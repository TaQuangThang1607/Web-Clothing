(()=>{var e={};e.id=213,e.ids=[213],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1350:(e,t,r)=>{Promise.resolve().then(r.bind(r,5922))},1382:()=>{},1643:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},1712:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(687),a=r(7204),n=r(6189),i=r(3210);function o(){let e=(0,n.useRouter)(),{id:t}=(0,n.useParams)(),[r,o]=(0,i.useState)({name:"",description:"",size:"",color:"",price:0,imageUrl:""}),[l,d]=(0,i.useState)(null),[c,m]=(0,i.useState)(null),[p,u]=(0,i.useState)(null),[h,x]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),g=e=>{let{name:t,value:r}=e.target;o(e=>({...e,[t]:"price"===t?r?parseFloat(r):0:r}))},v=async s=>{if(s.preventDefault(),!t)return void u("Kh\xf4ng t\xecm thấy ID sản phẩm");if(r.name.length>100)return void u("T\xean sản phẩm kh\xf4ng được vượt qu\xe1 100 k\xfd tự");if(r.description.length>500)return void u("M\xf4 tả kh\xf4ng được vượt qu\xe1 500 k\xfd tự");if(r.size.length>10)return void u("K\xedch thước kh\xf4ng được vượt qu\xe1 10 k\xfd tự");if(r.color.length>10)return void u("M\xe0u sắc kh\xf4ng được vượt qu\xe1 10 k\xfd tự");if(r.price<=0)return void u("Gi\xe1 phải lớn hơn 0");b(!0),u(null),x(null);try{let s=new FormData,n=new Blob([JSON.stringify({name:r.name,description:r.description,size:r.size,color:r.color,price:r.price})],{type:"application/json"});s.append("product",n),c&&s.append("image",c),await (0,a.vc)(parseInt(t),s),x("Cập nhật sản phẩm th\xe0nh c\xf4ng!"),setTimeout(()=>{e.push("/admin/products")},1e3)}catch(e){u(e.message||"Lỗi khi cập nhật sản phẩm. Vui l\xf2ng thử lại.")}finally{b(!1)}};return(0,s.jsxs)("div",{className:"container mx-auto p-6 max-w-2xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Chỉnh sửa sản phẩm"}),(0,s.jsxs)("form",{onSubmit:v,className:"space-y-6 bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["T\xean sản phẩm ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:g,className:"mt-1 w-full border rounded-md p-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"M\xf4 tả"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:r.description,onChange:g,className:"mt-1 w-full border rounded-md p-2 focus:ring-blue-500 focus:border-blue-500",rows:4})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700",children:["K\xedch thước ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"size",name:"size",value:r.size,onChange:g,className:"mt-1 w-full border rounded-md p-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700",children:["M\xe0u sắc ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"color",name:"color",value:r.color,onChange:g,className:"mt-1 w-full border rounded-md p-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:["Gi\xe1 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"number",id:"price",name:"price",value:r.price||"",onChange:g,className:"mt-1 w-full border rounded-md p-2 focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"H\xecnh ảnh"}),(0,s.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith("image/")){u("Vui l\xf2ng chọn một file h\xecnh ảnh hợp lệ (jpg, png, ...)."),m(null),d(null);return}m(t),d(URL.createObjectURL(t)),u(null)}else m(null),d(r.imageUrl)},className:"mt-1 w-full border rounded-md p-2"})]}),l&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"block text-sm font-medium text-gray-700",children:"Preview h\xecnh ảnh:"}),(0,s.jsx)("img",{src:l,alt:"Preview",className:"mt-2 max-w-xs rounded-md shadow-sm"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",disabled:f,children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang cập nhật..."]}):"Cập nhật sản phẩm"})]}),h&&(0,s.jsx)("p",{className:"text-green-600 mt-4 font-medium",children:h}),p&&(0,s.jsx)("p",{className:"text-red-600 mt-4 font-medium",children:p})]})}},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4787:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},4977:(e,t,r)=>{Promise.resolve().then(r.bind(r,5289)),Promise.resolve().then(r.bind(r,8571))},5289:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\react+spring\\\\my-app\\\\app\\\\components\\\\HeaderAdmin.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\react+spring\\my-app\\app\\components\\HeaderAdmin.tsx","default")},5922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\react+spring\\\\my-app\\\\app\\\\admin\\\\products\\\\update\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\react+spring\\my-app\\app\\admin\\products\\update\\[id]\\page.tsx","default")},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6189:(e,t,r)=>{"use strict";var s=r(5773);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(5239),a=r(8088),n=r(8170),i=r.n(n),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["admin",{children:["products",{children:["update",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5922)),"D:\\react+spring\\my-app\\app\\admin\\products\\update\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7786)),"D:\\react+spring\\my-app\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"D:\\react+spring\\my-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\react+spring\\my-app\\app\\admin\\products\\update\\[id]\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/products/update/[id]/page",pathname:"/admin/products/update/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7204:(e,t,r)=>{"use strict";r.d(t,{AS:()=>a,WY:()=>n,vc:()=>o,y9:()=>i});let s="http://localhost:8080/admin/products";async function a(e=0,t=10){let r=await fetch(`${s}?page=${e}&size=${t}`,{method:"GET",next:{revalidate:0}});if(!r.ok)throw Error("Lỗi khi lấy danh s\xe1ch sản phẩm");return r.json()}async function n(e){let t=await fetch(s,{method:"POST",body:e,next:{revalidate:0}});if(!t.ok)throw Error((await t.json()).message||"Lỗi khi tạo sản phẩm");return t.json()}async function i(e){let t=await fetch(`${s}/${e}`,{method:"GET",next:{revalidate:0}});if(!t.ok)throw Error(`Lỗi khi lấy th\xf4ng tin sản phẩm: ${t.statusText}`);return t.json()}async function o(e,t){let r=await fetch(`${s}/${e}`,{method:"PATCH",body:t,credentials:"include",next:{revalidate:0}});if(!r.ok){let e=await r.json();if(e.errors)throw Error(e.errors.map(e=>`${e.field}: ${e.message}`).join(", "));throw Error(e.message||"Lỗi khi cập nhật sản phẩm")}return r.json()}},7299:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(687);function a(){return(0,s.jsxs)("nav",{className:"bg-gray-900 text-white flex items-center justify-between px-4 py-2",children:[(0,s.jsx)("a",{href:"/admin",className:"text-lg font-semibold",children:"Admin"}),(0,s.jsx)("button",{className:"text-white text-xl lg:hidden mr-4",id:"sidebarToggle",children:(0,s.jsx)("i",{className:"fas fa-bars"})}),(0,s.jsx)("form",{className:"hidden md:block ml-auto mr-4",children:(0,s.jsxs)("div",{className:"flex items-center border border-gray-600 rounded overflow-hidden",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search for...","aria-label":"Search for...",className:"px-3 py-1 bg-gray-800 text-white focus:outline-none"}),(0,s.jsx)("button",{type:"button",id:"btnNavbarSearch",className:"px-3 py-1 bg-blue-600 hover:bg-blue-700",children:(0,s.jsx)("i",{className:"fas fa-search"})})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"focus:outline-none",id:"navbarDropdown",type:"button",children:(0,s.jsx)("i",{className:"fas fa-user fa-fw text-xl"})}),(0,s.jsxs)("ul",{className:"absolute right-0 mt-2 w-48 bg-white text-gray-800 shadow-lg rounded hidden group-hover:block z-50",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"block px-4 py-2 hover:bg-gray-100",href:"#!",children:"Settings"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"block px-4 py-2 hover:bg-gray-100",href:"#!",children:"Activity Log"})}),(0,s.jsx)("li",{children:(0,s.jsx)("hr",{className:"border-t"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"block px-4 py-2 hover:bg-gray-100",href:"#!",children:"Logout"})})]})]})]})}},7786:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(7413),a=r(5289),n=r(8571);function i({children:e}){return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsx)(n.default,{}),(0,s.jsx)("main",{className:"flex-1 p-6 bg-gray-100",children:e})]})]})}},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(7413);r(2704);let a={title:"Shoes Online Store",description:"Cửa h\xe0ng b\xe1n gi\xe0y"};function n({children:e}){return(0,s.jsxs)("html",{lang:"vi",children:[(0,s.jsx)("head",{children:(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"})}),(0,s.jsx)("body",{className:"antialiased",children:(0,s.jsx)("main",{className:"",children:e})})]})}},8129:(e,t,r)=>{Promise.resolve().then(r.bind(r,7299)),Promise.resolve().then(r.bind(r,8741))},8571:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\react+spring\\\\my-app\\\\app\\\\components\\\\SideabarAdmin.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\react+spring\\my-app\\app\\components\\SideabarAdmin.tsx","default")},8741:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(687);function a(){return(0,s.jsxs)("aside",{className:"w-64 h-screen bg-gray-900 text-white flex flex-col",children:[(0,s.jsxs)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2 text-sm",children:[(0,s.jsx)("div",{className:"text-gray-400 uppercase text-xs",children:"Core"}),(0,s.jsxs)("a",{href:"/",className:"flex items-center space-x-2 hover:bg-gray-800 p-2 rounded",children:[(0,s.jsx)("i",{className:"fas fa-tachometer-alt"}),(0,s.jsx)("span",{children:"Trang chủ"})]}),(0,s.jsxs)("a",{href:"/admin",className:"flex items-center space-x-2 hover:bg-gray-800 p-2 rounded",children:[(0,s.jsx)("i",{className:"fas fa-tachometer-alt"}),(0,s.jsx)("span",{children:"Dashboard"})]}),(0,s.jsx)("div",{className:"text-gray-400 uppercase text-xs mt-4",children:"Manager"}),(0,s.jsxs)("a",{href:"/admin/products",className:"flex items-center space-x-2 hover:bg-gray-800 p-2 rounded",children:[(0,s.jsx)("i",{className:"fas fa-chart-area"}),(0,s.jsx)("span",{children:"Products"})]}),(0,s.jsxs)("a",{href:"#",className:"flex items-center space-x-2 hover:bg-gray-800 p-2 rounded",children:[(0,s.jsx)("i",{className:"fas fa-table"}),(0,s.jsx)("span",{children:"User"})]})]}),(0,s.jsxs)("div",{className:"p-4 border-t border-gray-700 text-sm text-gray-400",children:[(0,s.jsx)("div",{children:"Logged in as:"}),(0,s.jsx)("div",{children:"Start Bootstrap"})]})]})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9502:(e,t,r)=>{Promise.resolve().then(r.bind(r,1712))},9534:()=>{},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,825,658],()=>r(6676));module.exports=s})();